RECOMMENDATION_LIBRARY = {
    "happy": [
        {
            "id": "happy-1",
            "name": "Walking on Sunshine",
            "artists": "Katrina & The Waves",
            "album_image": "https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/0u2P7c2mB2H7NAtvQWkF2m",
        },
        {
            "id": "happy-2",
            "name": "Good Life",
            "artists": "OneRepublic",
            "album_image": "https://images.unsplash.com/photo-1485229155181-392c6f2a3c9a?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/71jzys8V8K8xJ3QX8Z5kru",
        },
        {
            "id": "happy-3",
            "name": "Feel Good Inc.",
            "artists": "Gorillaz",
            "album_image": "https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/7lPN2DXiMsVn7XUKtOW1CS",
        },
    ],
    "sad": [
        {
            "id": "sad-1",
            "name": "Someone Like You",
            "artists": "Adele",
            "album_image": "https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/4kflIGfjdZJW4ot2ioIXSU",
        },
        {
            "id": "sad-2",
            "name": "Fix You",
            "artists": "Coldplay",
            "album_image": "https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/4hOKQuZbraPDIfaGbM3lKI",
        },
        {
            "id": "sad-3",
            "name": "The Night We Met",
            "artists": "Lord Huron",
            "album_image": "https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=400&q=60",
            "preview_url": "https://p.scdn.co/mp3-preview/2f3a3c6f31b3c60c8a7f7f2cb3d3b0b1a5d3b435",
            "external_url": "https://open.spotify.com/track/3uDYF7rIY48C3vo7XO6vSu",
        },
    ],
    "neutral": [
        {
            "id": "neutral-1",
            "name": "Sunset Lover",
            "artists": "Petit Biscuit",
            "album_image": "https://images.unsplash.com/photo-1500530850571-2fbb9b5b5b17?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/3s4W6d6AlK8gUbTML6qZMl",
        },
        {
            "id": "neutral-2",
            "name": "Breathe",
            "artists": "Telepopmusik",
            "album_image": "https://images.unsplash.com/photo-1482192597420-4817d3f13c0a?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/2I4pMVz2DuMhn95JpVmYpC",
        },
        {
            "id": "neutral-3",
            "name": "Weightless",
            "artists": "Marconi Union",
            "album_image": "https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/0VEQX1wa7J4Hn0JmYQ7ctV",
        },
    ],
    "angry": [
        {
            "id": "angry-1",
            "name": "Break Stuff",
            "artists": "Limp Bizkit",
            "album_image": "https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/5SkZgKY5CAXiqQ3XPDGs9W",
        },
        {
            "id": "angry-2",
            "name": "Killing in the Name",
            "artists": "Rage Against The Machine",
            "album_image": "https://images.unsplash.com/photo-1507025843741-1b8c1e4e58c8?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/7f4IKtD9nXJy2uNoLg7F7r",
        },
    ],
    "disgust": [
        {
            "id": "disgust-1",
            "name": "Bad Guy",
            "artists": "Billie Eilish",
            "album_image": "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/2Fxmhks0bxGSBdJ92vM42m",
        },
        {
            "id": "disgust-2",
            "name": "Control",
            "artists": "Halsey",
            "album_image": "https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/5tiEV6Vpvkgt7X7F9g8LZ7",
        },
    ],
    "fear": [
        {
            "id": "fear-1",
            "name": "Bury a Friend",
            "artists": "Billie Eilish",
            "album_image": "https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/1cTZMwcBJT0Ka3UJPXOeeN",
        },
        {
            "id": "fear-2",
            "name": "Nightmare",
            "artists": "Halsey",
            "album_image": "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/1BfYJmWM9t8NAjC6fS5t8G",
        },
    ],
    "surprise": [
        {
            "id": "surprise-1",
            "name": "Uptown Funk",
            "artists": "Mark Ronson, Bruno Mars",
            "album_image": "https://images.unsplash.com/photo-1489533119213-2c6f0a0e0e36?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/3jjujdWJ72nww5eGnfs2E7",
        },
        {
            "id": "surprise-2",
            "name": "Don't Stop Me Now",
            "artists": "Queen",
            "album_image": "https://images.unsplash.com/photo-1433838552652-f9a46b332c40?auto=format&fit=crop&w=400&q=60",
            "preview_url": None,
            "external_url": "https://open.spotify.com/track/2HGn4WW7FQHNdhJ7VylMDA",
        },
    ],
}


def get_recommendations_for_emotion(emotion, limit=5):
    key = (emotion or "neutral").lower()
    playlist = RECOMMENDATION_LIBRARY.get(key) or RECOMMENDATION_LIBRARY["neutral"]
    return playlist[:max(1, min(limit or 5, len(playlist)))]

